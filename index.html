<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" >
<head>
	<!--
	  - Do not use this code without permission
	  - @author @blag001 <blag@rakshata.com>
	  -->
	<title>Lecture hors-ligne</title>
	<script type="text/javascript" >
		var i = 1;
		/**
		 * gere les event de touche pour declancher les changement de page
		 * @param  {int} int_key_code valeur de la touche enfoncee
		 * @return {void}              realise la maj des info sans return
		 */
		function use_clavier(int_key_code)
		{
			/**
			 * si la keyMap est la fleche gauche
			 * et si on est a la page 2 et plus
			 * on revient d'une page
			 * @type {int}
			 */
			if((int_key_code == 37 || int_key_code == 81) && i > 1){
				i= i-1;
				var Npage = new Image();
				Npage.src = "img/"+i+'.jpg';

				Npage.onload = function() {
					document.getElementById('lecteur').style.height = Npage.height+"px";
					document.getElementById('lecteur').style.width = Npage.width+"px";
					document.getElementById('lecteur').style.backgroundImage= "url('img/"+i+".jpg')";
					window.scrollTo(0,0);
				};
			}
			/**
			 * si la keyMap est fleche droite
			 * on lance l'affichage de la suite
			 * et on capture l'erreur si pas de page
			 * @type {int}
			 */
			if(int_key_code == 39 || int_key_code == 68 ){
				i= i+1;
				var Npage = new Image();
				Npage.src = "img/"+i+'.jpg';

				Npage.onload = function() {
					document.getElementById('lecteur').style.height = Npage.height+"px";
					document.getElementById('lecteur').style.width = Npage.width+"px";
					document.getElementById('lecteur').style.backgroundImage= "url('img/"+i+".jpg')";
					window.scrollTo(0,0);

					var preLpage = new Image();
					preLpage.src = "img/"+(i+1)+'.jpg';
					preLpage.onload = function() {};
				};

				Npage.onerror = function() {
					i = i-1;
				};
			}
		}
		// -->
	</script>
	<style type="text/css">
		a {
			display: block;
			margin: auto;
		}
	</style>
</head>
<body onkeyup="use_clavier(event.keyCode);" style="background-color:#000">
	<a id="lecteur" href="#" onclick="use_clavier(39); return false;"></a>

	<script type="text/javascript" >
		var page = new Image();
		page.src = "img/"+'1.jpg';

		/**
		 * on charge la premiere page
		 * @return {void} change directement dans le DOM
		 */
		page.onload = function() {
			document.getElementById('lecteur').style.height = page.height+"px";
			document.getElementById('lecteur').style.width = page.width+"px";};

		document.getElementById('lecteur').style.backgroundImage = "url('img/1.jpg')";
	// -->
	</script>
</body>
</html>
